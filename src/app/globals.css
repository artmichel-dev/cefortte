/* =============================================
   GLOBALS.CSS - SISTEMA DE DISEÑO
   =============================================
   
   ESTRUCTURA:
   1. Imports
   2. @theme (tokens y configuración)
   3. CSS puro (container, fuera de layers)
   4. @layer base (elementos HTML)
   5. @layer components (clases reutilizables)
   6. @layer utilities (utilidades)
   
   ============================================= */

/* =============================================
   1. IMPORTS
   ============================================= */

@import "tailwindcss";
@import "../styles/catalyst.css";
@import "../styles/navigation.css";

/* Importa estos estilos si necesitas las funcionalidades de los antiguos plugins */
/* @import "../styles/forms.css"; */
/* @import "../styles/typography.css"; */

/* =============================================
      2. @THEME - TOKENS Y CONFIGURACIÓN
      ============================================= */

@theme {
  /* -----------------------------------------
        BREAKPOINTS
        ----------------------------------------- */
  --breakpoint-xs: 360px;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1400px;
  --breakpoint-2xl: 1536px;

  /* -----------------------------------------
        FUENTES
        ----------------------------------------- */
  --font-sans: "Inter", system-ui, sans-serif, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-heading: "Oswald", "Arial", "Helvetica Neue", ui-sans-serif, system-ui, sans-serif;
  --font-mono: "Fira Code", ui-monospace, monospace;

  /* -----------------------------------------
        TIPOGRAFÍA - SISTEMA BASE (UI)
        -----------------------------------------
        | Token           | Valor    | Uso           |
        |-----------------|----------|---------------|
        | --text-micro    | 12px     | disclaimers   |
        | --text-small    | 14px     | secundario    |
        | --text-body     | 16px     | párrafos      |
        | --text-body-lg  | 18px     | destacado     |
        | --text-h6       | 18px     | heading       |
        | --text-h5       | 20px     | heading       |
        | --text-h4       | 24px     | heading       |
        | --text-h3       | 24px     | heading sm    |
        | --text-h2       | 32px     | heading md    |
        | --text-h1       | 40px     | heading lg    |
        ----------------------------------------- */
  --text-micro: 0.75rem;
  --text-small: 0.875rem;
  --text-body: 1rem;
  --text-body-large: 1.125rem;
  --text-h6: 1.125rem;
  --text-h5: 1.25rem;
  --text-h4: 1.5rem;
  --text-h3: 1.5rem;
  --text-h2: 2rem;
  --text-h1: 2.5rem;

  /* -----------------------------------------
        TIPOGRAFÍA - SISTEMA EDITORIAL (Marketing)
        -----------------------------------------
        | Token              | Desktop | Mobile |
        |--------------------|---------|--------|
        | --text-display-xxl | 80px    | 48px   |
        | --text-display-xl  | 72px    | 44px   |
        | --text-display-lg  | 56px    | 40px   |
        | --text-display-md  | 48px    | 32px   |
        | --text-display-sm  | 40px    | 28px   |
        | --text-title-lg    | 32px    | 28px   |
        | --text-title-md    | 28px    | 24px   |
        | --text-title-sm    | 24px    | 20px   |
        | --text-lead        | 21px    | —      |
        | --text-highlight   | 19px    | —      |
        ----------------------------------------- */

  /* Desktop */
  --text-display-xxl: 5rem;
  --text-display-xl: 4.5rem;
  --text-display-lg: 3.5rem;
  --text-display-md: 3rem;
  --text-display-sm: 2.5rem;
  --text-title-lg: 2rem;
  --text-title-md: 1.75rem;
  --text-title-sm: 1.5rem;
  --text-lead: 1.3125rem;
  --text-highlight: 1.1875rem;

  /* Mobile */
  --text-display-xxl-mobile: 3rem;
  --text-display-xl-mobile: 2.75rem;
  --text-display-lg-mobile: 2.5rem;
  --text-display-md-mobile: 2rem;
  --text-display-sm-mobile: 1.75rem;
  --text-title-lg-mobile: 1.75rem;
  --text-title-md-mobile: 1.5rem;
  --text-title-sm-mobile: 1.25rem;

  /* -----------------------------------------
        COLORES - BRAND
        ----------------------------------------- */
  --color-brand-50: #fef2f2;
  --color-brand-100: #fee2e2;
  --color-brand-200: #fecaca;
  --color-brand-300: #fca5a5;
  --color-brand-400: #f87171;
  --color-brand-500: #ef4444;
  --color-brand-600: #dc2626;
  --color-brand-700: #c42a2a; /* Color oficial del cliente */
  --color-brand-800: #991b1b;
  --color-brand-900: #7f1d1d;
  --color-brand-950: #450a0a;

  /* -----------------------------------------
        BORDER RADIUS (Catalyst)
        ----------------------------------------- */
  --radius-lg: 0.5rem;
  --radius-md: 0.375rem;
  --radius-sm: 0.25rem;
  --radius-xs: 0.125rem;

  /* -----------------------------------------
        SPACING (Catalyst)
        ----------------------------------------- */
  --spacing-1: 0.25rem;
  --spacing-1\.5: 0.375rem;
  --spacing-2: 0.5rem;
  --spacing-2\.5: 0.625rem;
  --spacing-3: 0.75rem;
  --spacing-3\.5: 0.875rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;
  --spacing-10: 2.5rem;
  --spacing-12: 3rem;

  /* -----------------------------------------
        LAYOUT
        ----------------------------------------- */
  --max-width-1400: 1400px;
  --container-center: true;
  --container-padding: 0rem;

  /* -----------------------------------------
        ANIMACIONES
        ----------------------------------------- */
  @keyframes pulse {
    0%,
    100% {
      opacity: 0.5;
      transform: scale(0.9);
    }
    50% {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes spin {
    0% {
      transform: translate(-50%, -50%) rotate(0deg) scale(2);
    }
    100% {
      transform: translate(-50%, -50%) rotate(360deg) scale(2);
    }
  }

  --animate-pulse: pulse 2s infinite;
  --animate-spin: spin 8s linear infinite;
}

/* =============================================
      3. CSS PURO (fuera de layers)
      ============================================= */

/* Función spacing para Catalyst */
@supports (color: rgb(from white r g b)) {
  @layer theme {
    * {
      --spacing: 0.25rem;
    }
  }
}

/* Container personalizado */
.container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: max(24px, env(safe-area-inset-left));
  padding-right: max(24px, env(safe-area-inset-right));
  max-width: calc(1440px + 48px);
}

@media (min-width: 1400px) {
  .container {
    max-width: calc(1400px + 48px);
  }
}

/* =============================================
      4. @LAYER BASE - ELEMENTOS HTML
      ============================================= */

@layer base {
  /* -----------------------------------------
        ROOT & BODY
        ----------------------------------------- */
  html {
    @apply m-0 p-0;
    font-size: 100%;
    overflow-x: hidden;
    max-width: 100vw;
  }

  body {
    @apply m-0 p-0 min-h-dvh bg-stone-100 antialiased grid grid-rows-[auto_1fr_auto];
    font-size: var(--text-body);
    line-height: 1.5;
    overflow-x: hidden;
    max-width: 100vw;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }

  /* -----------------------------------------
        ESTRUCTURA PRINCIPAL
        ----------------------------------------- */
  main {
    @apply relative w-full;
  }

  section {
    @apply relative;
  }

  article {
    @apply container;
  }

  /* -----------------------------------------
        HEADINGS (Sistema Base)
        ----------------------------------------- */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading font-bold uppercase tracking-tight antialiased leading-tight text-balance text-stone-800;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }

  h1 {
    font-size: var(--text-h1);
    line-height: 1.2;
  }

  h2 {
    font-size: var(--text-h2);
    line-height: 1.25;
  }

  h3 {
    font-size: var(--text-h3);
    line-height: 1.3;
  }

  h4 {
    font-size: var(--text-h4);
    line-height: 1.3;
  }

  h5 {
    font-size: var(--text-h5);
    line-height: 1.4;
  }

  h6 {
    font-size: var(--text-h6);
    line-height: 1.4;
  }

  /* -----------------------------------------
        TEXTO BODY (Sistema Base)
        ----------------------------------------- */
  p,
  a,
  strong,
  em,
  i,
  u,
  mark,
  del,
  s,
  ins,
  q,
  blockquote,
  address,
  time,
  dfn,
  ruby,
  rt,
  li,
  dt,
  dd,
  div,
  cite,
  abbr,
  figure,
  figcaption,
  label,
  input,
  textarea,
  button,
  span {
    @apply font-sans tracking-tight text-balance leading-relaxed break-words antialiased text-stone-600;
    font-size: var(--text-body);
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }

  small {
    @apply font-sans tracking-tight leading-relaxed break-words antialiased text-stone-500;
    font-size: var(--text-small);
  }

  b {
    @apply font-bold text-stone-800;
    font-size: var(--text-body-large);
  }

  a {
    @apply no-underline;
  }

  /* -----------------------------------------
        TEXTO MONO
        ----------------------------------------- */
  code,
  pre,
  kbd,
  samp,
  var,
  sub,
  sup {
    @apply font-mono tracking-tight leading-5 break-words antialiased;
    font-size: var(--text-small);
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }

  /* -----------------------------------------
        DATA-ATTRIBUTES (Sistema Base)
        ----------------------------------------- */
  [data-text="micro"] {
    font-size: var(--text-micro);
  }

  [data-text="large"] {
    font-size: var(--text-body-large);
  }

  /* -----------------------------------------
        DATA-ATTRIBUTES (Sistema Editorial)
        Mobile-first: valores mobile por defecto
        ----------------------------------------- */

  /* Display */
  [data-text="display-xxl"] {
    font-size: var(--text-display-xxl-mobile);
    line-height: 1.1;
  }

  [data-text="display-xl"] {
    font-size: var(--text-display-xl-mobile);
    line-height: 1.1;
  }

  [data-text="display-lg"] {
    font-size: var(--text-display-lg-mobile);
    line-height: 1.15;
  }

  [data-text="display-md"] {
    font-size: var(--text-display-md-mobile);
    line-height: 1.2;
  }

  [data-text="display-sm"] {
    font-size: var(--text-display-sm-mobile);
    line-height: 1.2;
  }

  /* Titles */
  [data-text="title-lg"] {
    font-size: var(--text-title-lg-mobile);
    line-height: 1.25;
  }

  [data-text="title-md"] {
    font-size: var(--text-title-md-mobile);
    line-height: 1.3;
  }

  [data-text="title-sm"] {
    font-size: var(--text-title-sm-mobile);
    line-height: 1.3;
  }

  /* Lead & Highlight */
  [data-text="lead"] {
    font-size: var(--text-lead);
    line-height: 1.5;
  }

  [data-text="highlight"] {
    font-size: var(--text-highlight);
    line-height: 1.5;
  }

  /* -----------------------------------------
        EDITORIAL RESPONSIVE (Desktop)
        ----------------------------------------- */
  @media (min-width: 768px) {
    [data-text="display-xxl"] {
      font-size: var(--text-display-xxl);
    }

    [data-text="display-xl"] {
      font-size: var(--text-display-xl);
    }

    [data-text="display-lg"] {
      font-size: var(--text-display-lg);
    }

    [data-text="display-md"] {
      font-size: var(--text-display-md);
    }

    [data-text="display-sm"] {
      font-size: var(--text-display-sm);
    }

    [data-text="title-lg"] {
      font-size: var(--text-title-lg);
    }

    [data-text="title-md"] {
      font-size: var(--text-title-md);
    }

    [data-text="title-sm"] {
      font-size: var(--text-title-sm);
    }
  }

  /* -----------------------------------------
        ELEMENTOS ESPECIALES
        ----------------------------------------- */
  button {
    @apply antialiased leading-none;
  }

  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px #7f1d1d inset !important;
    -webkit-text-fill-color: white !important;
    transition: background-color 5000s ease-in-out 0s;
    caret-color: white;
  }
}

/* =============================================
      5. @LAYER COMPONENTS - CLASES REUTILIZABLES
      ============================================= */

@layer components {
  /* -----------------------------------------
        NAVEGACIÓN
        ----------------------------------------- */
  .nav-link {
    @apply relative flex h-full items-center px-1 font-heading font-semibold uppercase transition-colors text-stone-950 opacity-80 transition-opacity;
    font-size: var(--text-small);
  }

  .nav-link-underline {
    @apply bg-brand-700 absolute bottom-0 left-0 h-[3px] w-full opacity-0 transition-opacity duration-150;
  }

  .group:hover .nav-link,
  .group:hover .nav-link-underline {
    @apply opacity-100;
  }

  .mobile-nav-link {
    @apply inline-block font-heading font-bold uppercase tracking-tight antialiased leading-tight text-balance transition-transform text-stone-100 hover:translate-x-1 hover:text-stone-50 active:text-white;
  }
  .mobile-nav-sublink {
    @apply inline-block tracking-tight antialiased leading-tight text-balance transition-transform text-stone-100 hover:translate-x-1 hover:text-stone-50 active:text-white;
  }

  .icon-link {
    @apply inline-block text-stone-100 transition-all duration-150 hover:-translate-y-0.5 hover:text-white active:text-white;
  }

  /* -----------------------------------------
        CARDS BORRAR
        ----------------------------------------- */
  .card-hover {
    @apply rounded-xs flex h-full flex-col justify-center border border-white/20 p-8 transition-all duration-300 hover:border-white/40 hover:bg-white/5;
  }

  .card-padding {
    @apply py-4 lg:py-8;
  }

  .card-rounded {
    @apply relative flex min-h-64 flex-col overflow-hidden bg-stone-50 shadow-sm ring-1 ring-black/5 transition-colors duration-300 hover:bg-white sm:min-h-0;
  }
}

/* =============================================
      6. @LAYER UTILITIES - UTILIDADES
      ============================================= */

@layer utilities {
  /* -----------------------------------------
        SCROLLBAR
        ----------------------------------------- */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* -----------------------------------------
        SELECCIÓN DE TEXTO
        ----------------------------------------- */
  .select-text {
    user-select: text !important;
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    -ms-user-select: text !important;
  }

  .select-none-force {
    user-select: none !important;
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: text !important;
  }
}
