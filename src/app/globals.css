/* GLOBALS.CSS - SISTEMA DE DISEÑO
   ESTRUCTURA:
   1. Imports
   2. @theme (tokens y configuración)
   3. CSS puro (container, fuera de layers)
   4. @layer base (elementos HTML)
   5. @layer components (clases reutilizables)
   6. @layer utilities (utilidades)
*/

/* 1. IMPORTS */

@import "tailwindcss";
@import "../styles/catalyst.css";
@import "../styles/navigation.css";

/* 2. @THEME - TOKENS Y CONFIGURACIÓN */

@theme {
  /* BREAKPOINTS */
  --breakpoint-xs: 360px;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1400px;
  --breakpoint-2xl: 1536px;

  /* FONT FAMILY (font/family/) */
  --font-sans: "Inter", system-ui, sans-serif, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-heading: "Oswald", "Arial", "Helvetica Neue", ui-sans-serif, system-ui, sans-serif;
  --font-mono: "Fira Code", ui-monospace, monospace;

  /* FONT WEIGHT (Figma: font/weight/) */
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* LINE HEIGHT (Figma: line/height/) */
  --line-height-tight: 1.1;
  --line-height-snug: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;

  /* LETTER SPACING (Figma: letter/spacing/) */
  --letter-spacing-tight: -0.02em;
  --letter-spacing-normal: 0em;
  --letter-spacing-wide: 0.02em;
  --letter-spacing-mono: 0em;

  /* Tamaños UI (alineado a Figma: type/ui/) */
  --text-micro: 0.75rem; /* 12px */
  --text-small: 0.875rem; /* 14px */
  --text-body: 1rem; /* 16px */
  --text-body-lg: 1.125rem; /* 18px */

  --text-h6: 1rem; /* 16px */
  --text-h5: 1.125rem; /* 18px */
  --text-h4: 1.5rem; /* 24px */
  --text-h3: 1.5rem; /* 24px */
  --text-h2: 2rem; /* 32px */
  --text-h1: 2.5rem; /* 40px */

  /* TIPOGRAFÍA - SISTEMA EDITORIAL (Marketing)
  (alineado a Figma: type/editorial/)
  Mobile-first + override Desktop */

  /* Mobile */
  --text-display-xxl-mobile: 3rem; /* 48px */
  --text-display-xl-mobile: 2.5rem; /* 40px */
  --text-display-lg-mobile: 2rem; /* 32px */
  --text-display-md-mobile: 1.75rem; /* 28px */
  --text-display-sm-mobile: 1.5rem; /* 24px */

  --text-title-lg-mobile: 1.5rem; /* 24px */
  --text-title-md-mobile: 1.25rem; /* 20px */
  --text-title-sm-mobile: 1.125rem; /* 18px */

  --text-lead-mobile: 1.125rem; /* 18px */
  --text-highlight-mobile: 1rem; /* 16px */

  /* Desktop */
  --text-display-xxl: 5rem; /* 80px */
  --text-display-xl: 4.5rem; /* 72px */
  --text-display-lg: 3.5rem; /* 56px */
  --text-display-md: 3rem; /* 48px */
  --text-display-sm: 2.5rem; /* 40px */

  --text-title-lg: 2rem; /* 32px */
  --text-title-md: 1.75rem; /* 28px */
  --text-title-sm: 1.5rem; /* 24px */

  --text-lead: 1.25rem; /* 20px */
  --text-highlight: 1.125rem; /* 18px */

  /* SPACING – UI (Figma: space/ui/*) */
  --space-ui-xs: 4px;
  --space-ui-sm: 8px;
  --space-ui-md: 16px;
  --space-ui-lg: 24px;
  --space-ui-xl: 32px;
  --space-ui-2xl: 48px;
  --space-ui-3xl: 64px;

  /* SPACING – EDITORIAL (Mobile) */
  --space-editorial-sm: 16px;
  --space-editorial-md: 24px;
  --space-editorial-lg: 40px;
  --space-editorial-xl: 64px;
  --space-editorial-2xl: 96px;

  /* COLORES - BRAND (colors/brand/) */
  --color-brand-50: #fef2f2;
  --color-brand-100: #fee2e2;
  --color-brand-200: #fecaca;
  --color-brand-300: #fca5a5;
  --color-brand-400: #f87171;
  --color-brand-500: #ef4444;
  --color-brand-600: #dc2626;
  --color-brand-700: #c42a2a; /* Color de marca */
  --color-brand-800: #991b1b;
  --color-brand-900: #7f1d1d;
  --color-brand-950: #450a0a;

  /* BORDER RADIUS (Catalyst) */
  --radius-lg: 0.5rem;
  --radius-md: 0.375rem;
  --radius-sm: 0.25rem;
  --radius-xs: 0.125rem;

  /* SPACING (Catalyst) */
  --spacing-1: 0.25rem;
  --spacing-1\.5: 0.375rem;
  --spacing-2: 0.5rem;
  --spacing-2\.5: 0.625rem;
  --spacing-3: 0.75rem;
  --spacing-3\.5: 0.875rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;
  --spacing-10: 2.5rem;
  --spacing-12: 3rem;

  /* LAYOUT */
  --max-width-1400: 1400px;
  --container-center: true;
  --container-padding: 0rem;

  /* ANIMACIONES  */
  @keyframes pulse {
    0%,
    100% {
      opacity: 0.5;
      transform: scale(0.9);
    }
    50% {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes spin {
    0% {
      transform: translate(-50%, -50%) rotate(0deg) scale(2);
    }
    100% {
      transform: translate(-50%, -50%) rotate(360deg) scale(2);
    }
  }

  --animate-pulse: pulse 2s infinite;
  --animate-spin: spin 8s linear infinite;
}

/* 3. CSS PURO (fuera de layers) */

/* SPACING – EDITORIAL (Desktop override)
   Fuera de @theme porque @media no es permitido dentro */
@media (min-width: 1024px) {
  :root {
    --space-editorial-sm: 24px;
    --space-editorial-md: 40px;
    --space-editorial-lg: 64px;
    --space-editorial-xl: 96px;
    --space-editorial-2xl: 128px;
  }
}

/* Función spacing para Catalyst */
@supports (color: rgb(from white r g b)) {
  @layer theme {
    * {
      --spacing: 0.25rem;
    }
  }
}

/* Container personalizado */
.container,
article {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: max(24px, env(safe-area-inset-left));
  padding-right: max(24px, env(safe-area-inset-right));
  max-width: calc(1440px + 48px);
}

@media (min-width: 1400px) {
  .container,
  article {
    max-width: calc(1400px + 48px);
  }
}

/* SCROLLBAR */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* SELECCIÓN DE TEXTO */
.select-text {
  user-select: text !important;
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
}

.no-select {
  user-select: none !important;
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: text !important;
}

/* 4. @LAYER BASE - ELEMENTOS HTML */

@layer base {
  /* ROOT & BODY */
  html {
    @apply m-0 p-0;
    font-size: 100%;
  }

  body {
    @apply m-0 p-0 min-h-dvh bg-gray-100 text-balance text-gray-950 antialiased grid grid-rows-[auto_1fr_auto];
    font-size: var(--text-body);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-relaxed);
    letter-spacing: var(--letter-spacing-normal);
  }

  /* ESTRUCTURA PRINCIPAL */
  main {
    @apply relative grid w-full bg-gray-50 gap-3;
  }

  section {
    @apply relative grid w-full isolate mx-auto h-auto;
  }

  article {
    @apply relative grid isolate mx-auto h-auto py-24 md:py-32 lg:py-40;
  }

  /* HEADINGS (Sistema Base) */

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading antialiased text-balance;
    font-weight: var(--font-weight-semibold);
    letter-spacing: var(--letter-spacing-tight);
    line-height: var(--line-height-tight);
  }

  h1 {
    font-family: var(--font-heading);
    font-size: var(--text-h1);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-tight);
    letter-spacing: var(--letter-spacing-tight);
  }
  h2 {
    font-family: var(--font-heading);
    font-size: var(--text-h2);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-snug);
    letter-spacing: var(--letter-spacing-tight);
  }
  h3 {
    font-family: var(--font-heading);
    font-size: var(--text-h3);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-snug);
    letter-spacing: var(--letter-spacing-tight);
  }
  h4 {
    font-family: var(--font-heading);
    font-size: var(--text-h4);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-snug);
    letter-spacing: var(--letter-spacing-normal);
  }
  h5 {
    font-family: var(--font-heading);
    font-size: var(--text-h5);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-normal);
  }
  h6 {
    font-family: var(--font-heading);
    font-size: var(--text-h6);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-normal);
  }

  /* TEXTO BODY (Sistema Base) */
  p,
  a,
  strong,
  em,
  i,
  u,
  mark,
  del,
  s,
  ins,
  q,
  blockquote,
  address,
  time,
  dfn,
  ruby,
  rt,
  li,
  dt,
  dd,
  div,
  cite,
  abbr,
  figure,
  figcaption,
  label,
  input,
  textarea,
  button,
  span {
    @apply font-sans text-balance break-words antialiased;
    font-family: var(--font-sans);
    font-size: var(--text-body);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-relaxed);
    letter-spacing: var(--letter-spacing-normal);
  }

  small {
    @apply font-sans break-words antialiased;
    font-family: var(--font-sans);
    font-size: var(--text-small);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-normal);
  }

  b {
    @apply text-gray-800;
    font-weight: var(--font-weight-bold);
    font-size: var(--text-body-lg);
  }

  a {
    @apply no-underline;
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-normal);
  }

  /* TEXTO MONO */
  code,
  pre,
  kbd,
  samp,
  var,
  sub,
  sup {
    @apply font-mono break-words antialiased;
    font-family: var(--font-mono);
    font-size: var(--text-micro);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-normal);
  }

  /* ELEMENTOS ESPECIALES */
  button {
    @apply antialiased leading-none;
    font-family: var(--font-sans);
    font-size: var(--text-small);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-wide);
  }

  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px #7f1d1d inset !important;
    -webkit-text-fill-color: white !important;
    transition: background-color 5000s ease-in-out 0s;
    caret-color: white;
  }
}

/* 5. @LAYER COMPONENTS - CLASES REUTILIZABLES */

@layer components {
  /* NAVEGACIÓN */
  .nav-link {
    @apply relative flex h-full items-center px-1 font-heading font-semibold uppercase transition-colors text-gray-950 opacity-80 transition-opacity;
    font-size: var(--text-small);
  }

  .nav-link-underline {
    @apply bg-brand-700 absolute bottom-0 left-0 h-[3px] w-full opacity-0 transition-opacity duration-150;
  }

  .group:hover .nav-link,
  .group:hover .nav-link-underline {
    @apply opacity-100;
  }

  .mobile-nav-link {
    @apply inline-block font-heading font-bold uppercase tracking-tight antialiased leading-tight text-balance transition-transform text-gray-100 hover:translate-x-1 hover:text-gray-50 active:text-white;
  }
  .mobile-nav-sublink {
    @apply inline-block tracking-tight antialiased leading-tight text-balance transition-transform text-gray-100 hover:translate-x-1 hover:text-gray-50 active:text-white;
  }

  .icon-link {
    @apply inline-block text-gray-100 transition-all duration-150 hover:-translate-y-0.5 hover:text-white active:text-white;
  }
}

/* 6. @LAYER UTILITIES - UTILIDADES */

@layer utilities {
  /* Core UI (Sistema Base) */
  .text-h1 {
    font-family: var(--font-heading);
    font-size: var(--text-h1);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-tight);
    letter-spacing: var(--letter-spacing-tight);
  }
  .text-h2 {
    font-family: var(--font-heading);
    font-size: var(--text-h2);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-snug);
    letter-spacing: var(--letter-spacing-tight);
  }
  .text-h3 {
    font-family: var(--font-heading);
    font-size: var(--text-h3);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-snug);
    letter-spacing: var(--letter-spacing-tight);
  }

  .text-h4 {
    font-family: var(--font-heading);
    font-size: var(--text-h4);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-snug);
    letter-spacing: var(--letter-spacing-normal);
  }
  .text-h5 {
    font-family: var(--font-heading);
    font-size: var(--text-h5);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-normal);
  }
  .text-h6 {
    font-family: var(--font-heading);
    font-size: var(--text-h6);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-normal);
  }

  .text-body-lg {
    font-family: var(--font-sans);
    font-size: var(--text-body-lg);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-relaxed);
    letter-spacing: var(--letter-spacing-normal);
  }
  .text-body {
    font-family: var(--font-sans);
    font-size: var(--text-body);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-relaxed);
    letter-spacing: var(--letter-spacing-normal);
  }
  .text-small {
    font-family: var(--font-sans);
    font-size: var(--text-small);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-normal);
  }

  .text-micro {
    font-family: var(--font-mono);
    font-size: var(--text-micro);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-normal);
  }

  .text-label {
    font-family: var(--font-sans);
    font-size: var(--text-small);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-wide);
  }

  /* Editorial / Marketing
  Mobile-first + Desktop overrides */
  .text-display-xxl,
  .text-display-xl,
  .text-display-lg,
  .text-display-md,
  .text-display-sm {
    font-family: var(--font-heading);
    font-weight: var(--font-weight-bold);
    letter-spacing: var(--letter-spacing-tight);
    line-height: var(--line-height-tight);
  }

  .text-display-xxl {
    font-size: var(--text-display-xxl-mobile);
  }
  .text-display-xl {
    font-size: var(--text-display-xl-mobile);
  }
  .text-display-lg {
    font-size: var(--text-display-lg-mobile);
  }
  .text-display-md {
    font-size: var(--text-display-md-mobile);
    line-height: var(--line-height-snug);
  }
  .text-display-sm {
    font-size: var(--text-display-sm-mobile);
    line-height: var(--line-height-snug);
  }

  .text-title-lg,
  .text-title-md,
  .text-title-sm {
    font-family: var(--font-heading);
    font-weight: var(--font-weight-semibold);
    letter-spacing: var(--letter-spacing-tight);
    line-height: var(--line-height-snug);
  }

  .text-title-lg {
    font-size: var(--text-title-lg-mobile);
  }
  .text-title-md {
    font-size: var(--text-title-md-mobile);
  }
  .text-title-sm {
    font-size: var(--text-title-sm-mobile);
  }

  .text-lead {
    font-family: var(--font-sans);
    font-size: var(--text-lead-mobile);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-relaxed);
    letter-spacing: var(--letter-spacing-normal);
  }

  .text-highlight {
    font-family: var(--font-sans);
    font-size: var(--text-highlight-mobile);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-relaxed);
    letter-spacing: var(--letter-spacing-normal);
  }

  @media (min-width: 768px) {
    .text-display-xxl {
      font-size: var(--text-display-xxl);
    }
    .text-display-xl {
      font-size: var(--text-display-xl);
    }
    .text-display-lg {
      font-size: var(--text-display-lg);
    }
    .text-display-md {
      font-size: var(--text-display-md);
    }
    .text-display-sm {
      font-size: var(--text-display-sm);
    }
    .text-title-lg {
      font-size: var(--text-title-lg);
    }
    .text-title-md {
      font-size: var(--text-title-md);
    }
    .text-title-sm {
      font-size: var(--text-title-sm);
    }
    .text-lead {
      font-size: var(--text-lead);
    }
    .text-highlight {
      font-size: var(--text-highlight);
    }
  }

  /* SPACING UTILITIES – EDITORIAL */
  .section-sm {
    padding-block: var(--space-editorial-sm);
  }
  .section-md {
    padding-block: var(--space-editorial-md);
  }
  .section-lg {
    padding-block: var(--space-editorial-lg);
  }
  .section-xl {
    padding-block: var(--space-editorial-xl);
  }
  .section-2xl {
    padding-block: var(--space-editorial-2xl);
  }

  /* SPACING UTILITIES – UI */
  .stack-xs {
    gap: var(--space-ui-xs);
  }
  .stack-sm {
    gap: var(--space-ui-sm);
  }
  .stack-md {
    gap: var(--space-ui-md);
  }
  .stack-lg {
    gap: var(--space-ui-lg);
  }
  .stack-xl {
    gap: var(--space-ui-xl);
  }
}
